<!doctype html>
<html lang="en-US">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.23" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const useChoice = localStorage.getItem('vuepress-color-scheme')
      const systemStatus =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (useChoice === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (useChoice === 'dark' || systemStatus) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <link rel="icon" href="/favicon.png"><title>Repository Management Workflow | Better Context</title><meta name="description" content="Structured code context for smarter LLMs">
    <link rel="preload" href="/assets/style-Bk1J-qzw.css" as="style"><link rel="stylesheet" href="/assets/style-Bk1J-qzw.css">
    <link rel="modulepreload" href="/assets/app-DTsuGB56.js"><link rel="modulepreload" href="/assets/repository-management.html-C8s-pl5D.js">
    <link rel="prefetch" href="/assets/index.html-qtLZOq2h.js" as="script"><link rel="prefetch" href="/assets/ai-integration.html-Bsfg2qp5.js" as="script"><link rel="prefetch" href="/assets/contexts-and-guidelines.html-1iu8ab5W.js" as="script"><link rel="prefetch" href="/assets/getting-started.html-dL2SMMMw.js" as="script"><link rel="prefetch" href="/assets/guidelines-analysis.html-vXN0k-Dt.js" as="script"><link rel="prefetch" href="/assets/troubleshooting.html-BS6S3vCC.js" as="script"><link rel="prefetch" href="/assets/404.html-tCGZlMo8.js" as="script"><link rel="prefetch" href="/assets/mermaid.esm.min-BK8yIY1M.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/"><!----><span class="vp-site-name vp-hide-mobile" aria-hidden="true">Better Context</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="User Guide"><span class="title">User Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="User Guide"><span class="title">User Guide</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/ai-integration.html" aria-label="AI Integration"><!--[--><!--[--><!--]--><!--]-->AI Integration<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/contexts-and-guidelines.html" aria-label="Contexts and Guidelines"><!--[--><!--[--><!--]--><!--]-->Contexts and Guidelines<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/guidelines-analysis.html" aria-label="Guidelines Analysis Workflow"><!--[--><!--[--><!--]--><!--]-->Guidelines Analysis Workflow<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/troubleshooting.html" aria-label="Troubleshooting"><!--[--><!--[--><!--]--><!--]-->Troubleshooting<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/bettercontext/btrx" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!----></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="User Guide"><span class="title">User Guide</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="User Guide"><span class="title">User Guide</span><span class="right arrow"></span></button><ul class="vp-navbar-dropdown" style="display:none;"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/ai-integration.html" aria-label="AI Integration"><!--[--><!--[--><!--]--><!--]-->AI Integration<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/contexts-and-guidelines.html" aria-label="Contexts and Guidelines"><!--[--><!--[--><!--]--><!--]-->Contexts and Guidelines<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/guidelines-analysis.html" aria-label="Guidelines Analysis Workflow"><!--[--><!--[--><!--]--><!--]-->Guidelines Analysis Workflow<!--[--><!--[--><!--]--><!--]--></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/user-guide/troubleshooting.html" aria-label="Troubleshooting"><!--[--><!--[--><!--]--><!--]-->Troubleshooting<!--[--><!--[--><!--]--><!--]--></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><a class="auto-link external-link" href="https://github.com/bettercontext/btrx" aria-label="GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><!--]--><!--]-->GitHub<!--[--><!--[--><!--]--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">User Guide <!----></p><ul style="" class="vp-sidebar-children"><!--[--><li><a class="route-link auto-link vp-sidebar-item" href="/user-guide/getting-started.html" aria-label="Getting Started"><!--[--><!--[--><!--]--><!--]-->Getting Started<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/user-guide/ai-integration.html" aria-label="AI Integration"><!--[--><!--[--><!--]--><!--]-->AI Integration<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/user-guide/contexts-and-guidelines.html" aria-label="Contexts and Guidelines"><!--[--><!--[--><!--]--><!--]-->Contexts and Guidelines<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/user-guide/guidelines-analysis.html" aria-label="Guidelines Analysis Workflow"><!--[--><!--[--><!--]--><!--]-->Guidelines Analysis Workflow<!--[--><!--[--><!--]--><!--]--></a><!----></li><li><a class="route-link auto-link vp-sidebar-item" href="/user-guide/troubleshooting.html" aria-label="Troubleshooting"><!--[--><!--[--><!--]--><!--]-->Troubleshooting<!--[--><!--[--><!--]--><!--]--></a><!----></li><!--]--></ul></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div id="content"><h1 id="repository-management-workflow" tabindex="-1"><a class="header-anchor" href="#repository-management-workflow"><span>Repository Management Workflow</span></a></h1><p>Repository management in Better Context involves registering, configuring, and maintaining repositories for guidelines analysis and development workflow optimization.</p><h2 id="overview" tabindex="-1"><a class="header-anchor" href="#overview"><span>Overview</span></a></h2><p>The repository management workflow enables users to connect their development repositories to Better Context, configure analysis settings, and maintain repository-specific guidelines and contexts.</p><h2 id="repository-lifecycle" tabindex="-1"><a class="header-anchor" href="#repository-lifecycle"><span>Repository Lifecycle</span></a></h2><!--[--><div class="mermaid-actions"><button class="preview-button" title="preview"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1316 1024" fill="currentColor"><path d="M658.286 0C415.89 0 0 297.106 0 512c0 214.82 415.89 512 658.286 512 242.322 0 658.285-294.839 658.285-512S900.608 0 658.286 0zm0 877.714c-161.573 0-512-221.769-512-365.714 0-144.018 350.427-365.714 512-365.714 161.572 0 512 217.16 512 365.714s-350.428 365.714-512 365.714z"/><path d="M658.286 292.571a219.429 219.429 0 1 0 0 438.858 219.429 219.429 0 0 0 0-438.858zm0 292.572a73.143 73.143 0 1 1 0-146.286 73.143 73.143 0 0 1 0 146.286z"/></svg></button><button class="download-button" title="download"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1024 1024" fill="currentColor"><path d="M828.976 894.125H190.189c-70.55 0-127.754-57.185-127.754-127.753V606.674c0-17.634 14.31-31.933 31.933-31.933h63.889c17.634 0 31.932 14.299 31.932 31.933v95.822c0 35.282 28.596 63.877 63.877 63.877h511.033c35.281 0 63.877-28.595 63.877-63.877v-95.822c0-17.634 14.298-31.933 31.943-31.933h63.878c17.635 0 31.933 14.299 31.933 31.933v159.7c0 70.566-57.191 127.751-127.754 127.751zM249.939 267.51c12.921-12.92 33.885-12.92 46.807 0l148.97 148.972V94.893c0-17.634 14.302-31.947 31.934-31.947h63.876c17.638 0 31.946 14.313 31.946 31.947v321.589l148.97-148.972c12.922-12.92 33.876-12.92 46.797 0l46.814 46.818c12.922 12.922 12.922 33.874 0 46.807L552.261 624.93c-1.14 1.138-21.664 13.684-42.315 13.693-20.877.01-41.88-12.542-43.021-13.693L203.122 361.135c-12.923-12.934-12.923-33.885 0-46.807l46.817-46.818z"/></svg></button></div><div class="mermaid-wrapper"><div style="display:flex;align-items:center;justify-content:center;height:96px;" class="mermaid-loading"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);--icon-size: 48px;display: inline-block;width: var(--icon-size);height: var(--icon-size);background-color: currentcolor;-webkit-mask-image: var(--loading-icon);mask-image: var(--loading-icon)"></span></div></div><!--]--><h2 id="repository-registration" tabindex="-1"><a class="header-anchor" href="#repository-registration"><span>Repository Registration</span></a></h2><h3 id="automatic-discovery" tabindex="-1"><a class="header-anchor" href="#automatic-discovery"><span>Automatic Discovery</span></a></h3><p>Better Context can automatically discover repositories in common locations:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositoryDiscovery</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">discoverRepositories</span><span class="token punctuation">(</span>searchPaths<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Repository<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> discovered<span class="token operator">:</span> Repository<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> searchPath <span class="token keyword">of</span> searchPaths<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">const</span> gitRepos <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">findGitRepositories</span><span class="token punctuation">(</span>searchPath<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> repoPath <span class="token keyword">of</span> gitRepos<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> repoInfo <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">extractRepositoryInfo</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">)</span></span>
<span class="line">        discovered<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>repoInfo<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> discovered</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">findGitRepositories</span><span class="token punctuation">(</span>basePath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> repos<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token keyword">const</span> entries <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readdir</span><span class="token punctuation">(</span>basePath<span class="token punctuation">,</span> <span class="token punctuation">{</span> withFileTypes<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> entries<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>entry<span class="token punctuation">.</span><span class="token function">isDirectory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">const</span> fullPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>basePath<span class="token punctuation">,</span> entry<span class="token punctuation">.</span>name<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">const</span> gitPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>fullPath<span class="token punctuation">,</span> <span class="token string">&#39;.git&#39;</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pathExists</span><span class="token punctuation">(</span>gitPath<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">          repos<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fullPath<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">}</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> repos</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">extractRepositoryInfo</span><span class="token punctuation">(</span>repoPath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Repository<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> git <span class="token operator">=</span> <span class="token function">simpleGit</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> packageJson <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">readPackageJson</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">      name<span class="token operator">:</span> packageJson<span class="token operator">?.</span>name <span class="token operator">||</span> path<span class="token punctuation">.</span><span class="token function">basename</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      path<span class="token operator">:</span> repoPath<span class="token punctuation">,</span></span>
<span class="line">      description<span class="token operator">:</span> packageJson<span class="token operator">?.</span>description<span class="token punctuation">,</span></span>
<span class="line">      language<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">detectPrimaryLanguage</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      framework<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">detectFramework</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      gitInfo<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        branch<span class="token operator">:</span> <span class="token keyword">await</span> git<span class="token punctuation">.</span><span class="token function">branch</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;--show-current&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        remote<span class="token operator">:</span> <span class="token keyword">await</span> git<span class="token punctuation">.</span><span class="token function">remote</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;get-url&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;origin&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        lastCommit<span class="token operator">:</span> <span class="token keyword">await</span> git<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;-1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="manual-registration" tabindex="-1"><a class="header-anchor" href="#manual-registration"><span>Manual Registration</span></a></h3><p>Users can manually register repositories through the web interface or CLI:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token comment">// Web interface registration</span></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositoryRegistrationService</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">registerRepository</span><span class="token punctuation">(</span></span>
<span class="line">    data<span class="token operator">:</span> RepositoryRegistrationData<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>Repository<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Validate repository path</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">validateRepositoryPath</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>path<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Extract repository information</span></span>
<span class="line">    <span class="token keyword">const</span> repoInfo <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">analyzeRepository</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>path<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Create database entry</span></span>
<span class="line">    <span class="token keyword">const</span> repository <span class="token operator">=</span> <span class="token keyword">await</span> db</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>repositories<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        name<span class="token operator">:</span> data<span class="token punctuation">.</span>name <span class="token operator">||</span> repoInfo<span class="token punctuation">.</span>detectedName<span class="token punctuation">,</span></span>
<span class="line">        path<span class="token operator">:</span> data<span class="token punctuation">.</span>path<span class="token punctuation">,</span></span>
<span class="line">        description<span class="token operator">:</span> data<span class="token punctuation">.</span>description <span class="token operator">||</span> repoInfo<span class="token punctuation">.</span>detectedDescription<span class="token punctuation">,</span></span>
<span class="line">        settings<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">.</span>settings <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        isActive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">        createdAt<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">returning</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Trigger initial analysis</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scheduleInitialAnalysis</span><span class="token punctuation">(</span>repository<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> repository<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">validateRepositoryPath</span><span class="token punctuation">(</span>repoPath<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">pathExists</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Repository path does not exist&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span><span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">pathExists</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">,</span> <span class="token string">&#39;.git&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Path is not a Git repository&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Check if already registered</span></span>
<span class="line">    <span class="token keyword">const</span> existing <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositoryByPath</span><span class="token punctuation">(</span>repoPath<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>existing<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#39;Repository is already registered&#39;</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="cli-registration" tabindex="-1"><a class="header-anchor" href="#cli-registration"><span>CLI Registration</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre><code class="language-bash"><span class="line"><span class="token comment"># Register repository via CLI</span></span>
<span class="line">btrx repo <span class="token function">add</span> /path/to/repository <span class="token parameter variable">--name</span> <span class="token string">&quot;My Project&quot;</span> <span class="token parameter variable">--description</span> <span class="token string">&quot;Web application&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Auto-discover and register repositories</span></span>
<span class="line">btrx repo discover ~/Development --auto-register</span>
<span class="line"></span>
<span class="line"><span class="token comment"># List registered repositories</span></span>
<span class="line">btrx repo list</span>
<span class="line"></span>
<span class="line"><span class="token comment"># Show repository details</span></span>
<span class="line">btrx repo info /path/to/repository</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h2 id="repository-configuration" tabindex="-1"><a class="header-anchor" href="#repository-configuration"><span>Repository Configuration</span></a></h2><h3 id="settings-management" tabindex="-1"><a class="header-anchor" href="#settings-management"><span>Settings Management</span></a></h3><p>Each repository can have custom configuration settings:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">interface</span> <span class="token class-name">RepositorySettings</span> <span class="token punctuation">{</span></span>
<span class="line">  analysis<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    enabledContexts<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">    excludePaths<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">    includePaths<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">    autoAnalysis<span class="token operator">:</span> <span class="token builtin">boolean</span></span>
<span class="line">    analysisSchedule<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  guidelines<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    defaultFormat<span class="token operator">:</span> <span class="token string">&#39;markdown&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;asciidoc&#39;</span></span>
<span class="line">    includeExamples<span class="token operator">:</span> <span class="token builtin">boolean</span></span>
<span class="line">    generateTOC<span class="token operator">:</span> <span class="token builtin">boolean</span></span>
<span class="line">    customTemplates<span class="token operator">:</span> Record<span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token operator">&gt;</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  notifications<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    onAnalysisComplete<span class="token operator">:</span> <span class="token builtin">boolean</span></span>
<span class="line">    onGuidelinesUpdated<span class="token operator">:</span> <span class="token builtin">boolean</span></span>
<span class="line">    channels<span class="token operator">:</span> <span class="token punctuation">(</span><span class="token string">&#39;email&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;slack&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;webhook&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line">  integrations<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    cicd<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      enabled<span class="token operator">:</span> <span class="token builtin">boolean</span></span>
<span class="line">      provider<span class="token operator">:</span> <span class="token string">&#39;github&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;gitlab&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;jenkins&#39;</span></span>
<span class="line">      webhookUrl<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">    ide<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      vscode<span class="token operator">:</span> <span class="token builtin">boolean</span></span>
<span class="line">      jetbrains<span class="token operator">:</span> <span class="token builtin">boolean</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositoryConfigurationService</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">updateRepositorySettings</span><span class="token punctuation">(</span></span>
<span class="line">    repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">    settings<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>RepositorySettings<span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> currentSettings <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositorySettings</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> mergedSettings <span class="token operator">=</span> <span class="token punctuation">{</span> <span class="token operator">...</span>currentSettings<span class="token punctuation">,</span> <span class="token operator">...</span>settings <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">await</span> db</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>repositories<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        settings<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>mergedSettings<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        updatedAt<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>repositories<span class="token punctuation">.</span>id<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Apply configuration changes</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">applyConfigurationChanges</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> settings<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">applyConfigurationChanges</span><span class="token punctuation">(</span></span>
<span class="line">    repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">    changes<span class="token operator">:</span> Partial<span class="token operator">&lt;</span>RepositorySettings<span class="token operator">&gt;</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>changes<span class="token punctuation">.</span>analysis<span class="token operator">?.</span>autoAnalysis <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateAnalysisSchedule</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> changes<span class="token punctuation">.</span>analysis<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>changes<span class="token punctuation">.</span>integrations<span class="token operator">?.</span>cicd<span class="token operator">?.</span>enabled<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setupCICDIntegration</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> changes<span class="token punctuation">.</span>integrations<span class="token punctuation">.</span>cicd<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="context-configuration" tabindex="-1"><a class="header-anchor" href="#context-configuration"><span>Context Configuration</span></a></h3><p>Configure which contexts are enabled for each repository:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">ContextConfigurationService</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">configureRepositoryContexts</span><span class="token punctuation">(</span></span>
<span class="line">    repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">    contextConfig<span class="token operator">:</span> ContextConfiguration<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Remove existing configurations</span></span>
<span class="line">    <span class="token keyword">await</span> db</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">.</span>repositoryId<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Insert new configurations</span></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> config <span class="token keyword">of</span> contextConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        repositoryId<span class="token punctuation">,</span></span>
<span class="line">        contextName<span class="token operator">:</span> config<span class="token punctuation">.</span>context<span class="token punctuation">,</span></span>
<span class="line">        isEnabled<span class="token operator">:</span> config<span class="token punctuation">.</span>enabled<span class="token punctuation">,</span></span>
<span class="line">        customPrompt<span class="token operator">:</span> config<span class="token punctuation">.</span>customPrompt<span class="token punctuation">,</span></span>
<span class="line">        settings<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>config<span class="token punctuation">.</span>settings<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        priority<span class="token operator">:</span> config<span class="token punctuation">.</span>priority <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Update repository analysis schedule</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateAnalysisSchedule</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">getEnabledContexts</span><span class="token punctuation">(</span>repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> contexts <span class="token operator">=</span> <span class="token keyword">await</span> db</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> repositoryContexts<span class="token punctuation">.</span>contextName <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token function">and</span><span class="token punctuation">(</span></span>
<span class="line">          <span class="token function">eq</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">.</span>repositoryId<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token function">eq</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">.</span>isEnabled<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">.</span>priority<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> contexts<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span>name<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h2 id="repository-monitoring" tabindex="-1"><a class="header-anchor" href="#repository-monitoring"><span>Repository Monitoring</span></a></h2><h3 id="file-system-monitoring" tabindex="-1"><a class="header-anchor" href="#file-system-monitoring"><span>File System Monitoring</span></a></h3><p>Monitor repository changes for automatic re-analysis:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositoryMonitor</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">private</span> watchers <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map<span class="token operator">&lt;</span><span class="token builtin">number</span><span class="token punctuation">,</span> fs<span class="token punctuation">.</span>FSWatcher<span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">startMonitoring</span><span class="token punctuation">(</span>repository<span class="token operator">:</span> Repository<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> watcher <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">watch</span><span class="token punctuation">(</span></span>
<span class="line">      repository<span class="token punctuation">.</span>path<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">{</span> recursive<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">(</span>eventType<span class="token punctuation">,</span> filename<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleFileSystemEvent</span><span class="token punctuation">(</span>repository<span class="token punctuation">,</span> eventType<span class="token punctuation">,</span> filename<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">this</span><span class="token punctuation">.</span>watchers<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>repository<span class="token punctuation">.</span>id<span class="token punctuation">,</span> watcher<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">handleFileSystemEvent</span><span class="token punctuation">(</span></span>
<span class="line">    repository<span class="token operator">:</span> Repository<span class="token punctuation">,</span></span>
<span class="line">    eventType<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span></span>
<span class="line">    filename<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>filename <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">shouldIgnoreFile</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">return</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> settings <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositorySettings</span><span class="token punctuation">(</span>repository<span class="token punctuation">.</span>id<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>autoAnalysis<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// Debounce file change events</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scheduleAnalysisIfNeeded</span><span class="token punctuation">(</span>repository<span class="token punctuation">,</span> filename<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token function">shouldIgnoreFile</span><span class="token punctuation">(</span>filename<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> ignoredPatterns <span class="token operator">=</span> <span class="token punctuation">[</span></span>
<span class="line">      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.git\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules\/</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.DS_Store$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.log$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.tmp$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> ignoredPatterns<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token punctuation">(</span>pattern<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>filename<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">stopMonitoring</span><span class="token punctuation">(</span>repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> watcher <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>watchers<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>watcher<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      watcher<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">this</span><span class="token punctuation">.</span>watchers<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="git-integration" tabindex="-1"><a class="header-anchor" href="#git-integration"><span>Git Integration</span></a></h3><p>Monitor Git repository changes:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">GitMonitor</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">monitorGitChanges</span><span class="token punctuation">(</span>repository<span class="token operator">:</span> Repository<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> git <span class="token operator">=</span> <span class="token function">simpleGit</span><span class="token punctuation">(</span>repository<span class="token punctuation">.</span>path<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Monitor for new commits</span></span>
<span class="line">    <span class="token function">setInterval</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">checkForNewCommits</span><span class="token punctuation">(</span>repository<span class="token punctuation">,</span> git<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300000</span><span class="token punctuation">)</span> <span class="token comment">// Check every 5 minutes</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">checkForNewCommits</span><span class="token punctuation">(</span></span>
<span class="line">    repository<span class="token operator">:</span> Repository<span class="token punctuation">,</span></span>
<span class="line">    git<span class="token operator">:</span> SimpleGit<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> latestCommit <span class="token operator">=</span> <span class="token keyword">await</span> git<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;-1&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> storedCommit <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getStoredLatestCommit</span><span class="token punctuation">(</span>repository<span class="token punctuation">.</span>id<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>latestCommit<span class="token punctuation">.</span>latest<span class="token operator">?.</span>hash <span class="token operator">!==</span> storedCommit<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleNewCommits</span><span class="token punctuation">(</span>repository<span class="token punctuation">,</span> git<span class="token punctuation">,</span> latestCommit<span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateStoredLatestCommit</span><span class="token punctuation">(</span></span>
<span class="line">        repository<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">        latestCommit<span class="token punctuation">.</span>latest<span class="token operator">?.</span>hash<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">handleNewCommits</span><span class="token punctuation">(</span></span>
<span class="line">    repository<span class="token operator">:</span> Repository<span class="token punctuation">,</span></span>
<span class="line">    git<span class="token operator">:</span> SimpleGit<span class="token punctuation">,</span></span>
<span class="line">    latestCommit<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> settings <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositorySettings</span><span class="token punctuation">(</span>repository<span class="token punctuation">.</span>id<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>settings<span class="token punctuation">.</span>analysis<span class="token punctuation">.</span>autoAnalysis<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// Analyze changed files</span></span>
<span class="line">      <span class="token keyword">const</span> changedFiles <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getChangedFilesSinceLastAnalysis</span><span class="token punctuation">(</span></span>
<span class="line">        repository<span class="token punctuation">,</span></span>
<span class="line">        git<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scheduleIncrementalAnalysis</span><span class="token punctuation">(</span>repository<span class="token punctuation">,</span> changedFiles<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Send notification</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyRepositoryUpdate</span><span class="token punctuation">(</span>repository<span class="token punctuation">,</span> latestCommit<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h2 id="repository-synchronization" tabindex="-1"><a class="header-anchor" href="#repository-synchronization"><span>Repository Synchronization</span></a></h2><h3 id="multi-environment-sync" tabindex="-1"><a class="header-anchor" href="#multi-environment-sync"><span>Multi-Environment Sync</span></a></h3><p>Synchronize repository configurations across environments:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositorySyncService</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">syncRepository</span><span class="token punctuation">(</span></span>
<span class="line">    sourceRepo<span class="token operator">:</span> Repository<span class="token punctuation">,</span></span>
<span class="line">    targetEnvironment<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> syncData <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">prepareRepositorySync</span><span class="token punctuation">(</span>sourceRepo<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Upload to remote sync service</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">uploadSyncData</span><span class="token punctuation">(</span>syncData<span class="token punctuation">,</span> targetEnvironment<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Notify target environment</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">notifyTargetEnvironment</span><span class="token punctuation">(</span>targetEnvironment<span class="token punctuation">,</span> syncData<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">prepareRepositorySync</span><span class="token punctuation">(</span></span>
<span class="line">    repository<span class="token operator">:</span> Repository<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>SyncData<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">      repository<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        name<span class="token operator">:</span> repository<span class="token punctuation">.</span>name<span class="token punctuation">,</span></span>
<span class="line">        description<span class="token operator">:</span> repository<span class="token punctuation">.</span>description<span class="token punctuation">,</span></span>
<span class="line">        settings<span class="token operator">:</span> repository<span class="token punctuation">.</span>settings<span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">      guidelines<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositoryGuidelines</span><span class="token punctuation">(</span>repository<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      contexts<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositoryContexts</span><span class="token punctuation">(</span>repository<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      metadata<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">        lastSync<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        version<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositoryVersion</span><span class="token punctuation">(</span>repository<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">applySyncData</span><span class="token punctuation">(</span>syncData<span class="token operator">:</span> SyncData<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Validate sync data</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">validateSyncData</span><span class="token punctuation">(</span>syncData<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Apply repository changes</span></span>
<span class="line">    <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>tx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// Update repository settings</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">updateRepositoryFromSync</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> syncData<span class="token punctuation">.</span>repository<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment">// Sync guidelines</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">syncGuidelines</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> syncData<span class="token punctuation">.</span>guidelines<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment">// Sync contexts</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">syncContexts</span><span class="token punctuation">(</span>tx<span class="token punctuation">,</span> syncData<span class="token punctuation">.</span>contexts<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="backup-and-restore" tabindex="-1"><a class="header-anchor" href="#backup-and-restore"><span>Backup and Restore</span></a></h3><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositoryBackupService</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">createRepositoryBackup</span><span class="token punctuation">(</span>repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> repository <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepository</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> backupData <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">      repository<span class="token punctuation">,</span></span>
<span class="line">      guidelines<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositoryGuidelines</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      settings<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositorySettings</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      contexts<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepositoryContexts</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      analysisHistory<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getAnalysisHistory</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      createdAt<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> backupId <span class="token operator">=</span> <span class="token function">uuidv4</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> backupPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>backupDir<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>backupId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">writeJSON</span><span class="token punctuation">(</span>backupPath<span class="token punctuation">,</span> backupData<span class="token punctuation">,</span> <span class="token punctuation">{</span> spaces<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> backupId</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">restoreRepositoryBackup</span><span class="token punctuation">(</span>backupId<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> backupPath <span class="token operator">=</span> path<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>backupDir<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>backupId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.json</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> backupData <span class="token operator">=</span> <span class="token keyword">await</span> fs<span class="token punctuation">.</span><span class="token function">readJSON</span><span class="token punctuation">(</span>backupPath<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>tx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// Restore repository</span></span>
<span class="line">      <span class="token keyword">const</span> <span class="token punctuation">[</span>restoredRepo<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">await</span> tx</span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>repositories<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>backupData<span class="token punctuation">.</span>repository<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">returning</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment">// Restore guidelines</span></span>
<span class="line">      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> guideline <span class="token keyword">of</span> backupData<span class="token punctuation">.</span>guidelines<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>guidelines<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">          <span class="token operator">...</span>guideline<span class="token punctuation">,</span></span>
<span class="line">          repositoryId<span class="token operator">:</span> restoredRepo<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment">// Restore contexts</span></span>
<span class="line">      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> context <span class="token keyword">of</span> backupData<span class="token punctuation">.</span>contexts<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">        <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">          <span class="token operator">...</span>context<span class="token punctuation">,</span></span>
<span class="line">          repositoryId<span class="token operator">:</span> restoredRepo<span class="token punctuation">.</span>id<span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">}</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h2 id="repository-analytics" tabindex="-1"><a class="header-anchor" href="#repository-analytics"><span>Repository Analytics</span></a></h2><h3 id="usage-metrics" tabindex="-1"><a class="header-anchor" href="#usage-metrics"><span>Usage Metrics</span></a></h3><p>Track repository usage and analysis patterns:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositoryAnalytics</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">trackRepositoryUsage</span><span class="token punctuation">(</span></span>
<span class="line">    repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">    action<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span></span>
<span class="line">    metadata<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>repositoryUsageMetrics<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">      repositoryId<span class="token punctuation">,</span></span>
<span class="line">      action<span class="token punctuation">,</span></span>
<span class="line">      metadata<span class="token operator">:</span> metadata <span class="token operator">?</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>metadata<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span></span>
<span class="line">      timestamp<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">getRepositoryStats</span><span class="token punctuation">(</span></span>
<span class="line">    repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">    timeRange<span class="token operator">:</span> TimeRange<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>RepositoryStats<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> stats <span class="token operator">=</span> <span class="token keyword">await</span> db</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        totalAnalyses<span class="token operator">:</span> <span class="token function">count</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        totalGuidelines<span class="token operator">:</span> <span class="token function">count</span><span class="token punctuation">(</span>guidelines<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        lastAnalysis<span class="token operator">:</span> <span class="token function">max</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">.</span>completedAt<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        avgAnalysisDuration<span class="token operator">:</span> <span class="token function">avg</span><span class="token punctuation">(</span></span>
<span class="line">          sql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">EXTRACT(EPOCH FROM (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>analysisResults<span class="token punctuation">.</span>completedAt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>analysisResults<span class="token punctuation">.</span>startedAt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">))</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>repositories<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">leftJoin</span><span class="token punctuation">(</span></span>
<span class="line">        analysisResults<span class="token punctuation">,</span></span>
<span class="line">        <span class="token function">eq</span><span class="token punctuation">(</span>repositories<span class="token punctuation">.</span>id<span class="token punctuation">,</span> analysisResults<span class="token punctuation">.</span>repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">leftJoin</span><span class="token punctuation">(</span>guidelines<span class="token punctuation">,</span> <span class="token function">eq</span><span class="token punctuation">(</span>repositories<span class="token punctuation">.</span>id<span class="token punctuation">,</span> guidelines<span class="token punctuation">.</span>repositoryId<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token function">and</span><span class="token punctuation">(</span></span>
<span class="line">          <span class="token function">eq</span><span class="token punctuation">(</span>repositories<span class="token punctuation">.</span>id<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token function">gte</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">.</span>startedAt<span class="token punctuation">,</span> timeRange<span class="token punctuation">.</span>start<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token function">lte</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">.</span>startedAt<span class="token punctuation">,</span> timeRange<span class="token punctuation">.</span>end<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span>repositories<span class="token punctuation">.</span>id<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> stats<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getEmptyStats</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">getRepositoryTrends</span><span class="token punctuation">(</span>repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>RepositoryTrends<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> trends <span class="token operator">=</span> <span class="token keyword">await</span> db</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">        date<span class="token operator">:</span> sql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">DATE(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>analysisResults<span class="token punctuation">.</span>startedAt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">        analysisCount<span class="token operator">:</span> <span class="token function">count</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        avgDuration<span class="token operator">:</span> <span class="token function">avg</span><span class="token punctuation">(</span></span>
<span class="line">          sql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">EXTRACT(EPOCH FROM (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>analysisResults<span class="token punctuation">.</span>completedAt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> - </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>analysisResults<span class="token punctuation">.</span>startedAt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">))</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">.</span>repositoryId<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">groupBy</span><span class="token punctuation">(</span>sql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">DATE(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>analysisResults<span class="token punctuation">.</span>startedAt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">orderBy</span><span class="token punctuation">(</span>sql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">DATE(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>analysisResults<span class="token punctuation">.</span>startedAt<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> trends</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h3 id="health-monitoring" tabindex="-1"><a class="header-anchor" href="#health-monitoring"><span>Health Monitoring</span></a></h3><p>Monitor repository health and analysis quality:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositoryHealthMonitor</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">assessRepositoryHealth</span><span class="token punctuation">(</span>repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>HealthScore<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> repository <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRepository</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> recentAnalyses <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRecentAnalyses</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">)</span> <span class="token comment">// Last 30 days</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> healthMetrics <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">      analysisFrequency<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateAnalysisFrequency</span><span class="token punctuation">(</span>recentAnalyses<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      analysisSuccess<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateSuccessRate</span><span class="token punctuation">(</span>recentAnalyses<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      guidelinesQuality<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assessGuidelinesQuality</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      repositoryActivity<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assessRepositoryActivity</span><span class="token punctuation">(</span>repository<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      configurationHealth<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assessConfiguration</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">calculateOverallHealth</span><span class="token punctuation">(</span>healthMetrics<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token function">calculateAnalysisFrequency</span><span class="token punctuation">(</span>analyses<span class="token operator">:</span> Analysis<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>analyses<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> daysSinceFirst <span class="token operator">=</span></span>
<span class="line">      <span class="token punctuation">(</span>Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> analyses<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>startedAt<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">1000</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">60</span> <span class="token operator">*</span> <span class="token number">24</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> analyses<span class="token punctuation">.</span>length <span class="token operator">/</span> daysSinceFirst</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token function">calculateSuccessRate</span><span class="token punctuation">(</span>analyses<span class="token operator">:</span> Analysis<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>analyses<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">1</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">const</span> successfulAnalyses <span class="token operator">=</span> analyses<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span></span>
<span class="line">      <span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> a<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">&#39;completed&#39;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span><span class="token punctuation">.</span>length</span>
<span class="line">    <span class="token keyword">return</span> successfulAnalyses <span class="token operator">/</span> analyses<span class="token punctuation">.</span>length</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">generateHealthReport</span><span class="token punctuation">(</span>repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span>HealthReport<span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> health <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">assessRepositoryHealth</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> recommendations <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">generateRecommendations</span><span class="token punctuation">(</span></span>
<span class="line">      repositoryId<span class="token punctuation">,</span></span>
<span class="line">      health<span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">{</span></span>
<span class="line">      repositoryId<span class="token punctuation">,</span></span>
<span class="line">      overallScore<span class="token operator">:</span> health<span class="token punctuation">.</span>overallScore<span class="token punctuation">,</span></span>
<span class="line">      metrics<span class="token operator">:</span> health<span class="token punctuation">.</span>metrics<span class="token punctuation">,</span></span>
<span class="line">      recommendations<span class="token punctuation">,</span></span>
<span class="line">      generatedAt<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h2 id="repository-cleanup" tabindex="-1"><a class="header-anchor" href="#repository-cleanup"><span>Repository Cleanup</span></a></h2><h3 id="automated-cleanup" tabindex="-1"><a class="header-anchor" href="#automated-cleanup"><span>Automated Cleanup</span></a></h3><p>Automatically clean up old data and unused repositories:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">RepositoryCleanupService</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">scheduleCleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Run cleanup daily at 2 AM</span></span>
<span class="line">    cron<span class="token punctuation">.</span><span class="token function">schedule</span><span class="token punctuation">(</span><span class="token string">&#39;0 2 * * *&#39;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">performCleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">performCleanup</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cleanupOldAnalysisResults</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cleanupUnusedRepositories</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cleanupOrphanedGuidelines</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">compactDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">cleanupOldAnalysisResults</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> cutoffDate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    cutoffDate<span class="token punctuation">.</span><span class="token function">setMonth</span><span class="token punctuation">(</span>cutoffDate<span class="token punctuation">.</span><span class="token function">getMonth</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">6</span><span class="token punctuation">)</span> <span class="token comment">// Keep 6 months</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">await</span> db</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token function">lt</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">.</span>startedAt<span class="token punctuation">,</span> cutoffDate<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">cleanupUnusedRepositories</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> inactiveRepos <span class="token operator">=</span> <span class="token keyword">await</span> db</span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">select</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>repositories<span class="token punctuation">)</span></span>
<span class="line">      <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span></span>
<span class="line">        <span class="token function">and</span><span class="token punctuation">(</span></span>
<span class="line">          <span class="token function">eq</span><span class="token punctuation">(</span>repositories<span class="token punctuation">.</span>isActive<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">          <span class="token function">lt</span><span class="token punctuation">(</span>repositories<span class="token punctuation">.</span>updatedAt<span class="token punctuation">,</span> sql<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">NOW() - INTERVAL &#39;30 days&#39;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">        <span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">      <span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> repo <span class="token keyword">of</span> inactiveRepos<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeRepository</span><span class="token punctuation">(</span>repo<span class="token punctuation">.</span>id<span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">removeRepository</span><span class="token punctuation">(</span>repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">await</span> db<span class="token punctuation">.</span><span class="token function">transaction</span><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span>tx<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token comment">// Remove related data</span></span>
<span class="line">      <span class="token keyword">await</span> tx</span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>guidelines<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>guidelines<span class="token punctuation">.</span>repositoryId<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">await</span> tx</span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>analysisResults<span class="token punctuation">.</span>repositoryId<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">      <span class="token keyword">await</span> tx</span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">)</span></span>
<span class="line">        <span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>repositoryContexts<span class="token punctuation">.</span>repositoryId<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">      <span class="token comment">// Remove repository</span></span>
<span class="line">      <span class="token keyword">await</span> tx<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>repositories<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">where</span><span class="token punctuation">(</span><span class="token function">eq</span><span class="token punctuation">(</span>repositories<span class="token punctuation">.</span>id<span class="token punctuation">,</span> repositoryId<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Stop monitoring</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span>repositoryMonitor<span class="token punctuation">.</span><span class="token function">stopMonitoring</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><h2 id="integration-with-external-tools" tabindex="-1"><a class="header-anchor" href="#integration-with-external-tools"><span>Integration with External Tools</span></a></h2><h3 id="ci-cd-integration" tabindex="-1"><a class="header-anchor" href="#ci-cd-integration"><span>CI/CD Integration</span></a></h3><p>Integrate with continuous integration and deployment pipelines:</p><div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre><code class="language-typescript"><span class="line"><span class="token keyword">class</span> <span class="token class-name">CICDIntegration</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">setupWebhook</span><span class="token punctuation">(</span></span>
<span class="line">    repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">    cicdConfig<span class="token operator">:</span> CICDConfig<span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">string</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> webhookUrl <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">generateWebhookUrl</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Configure webhook in CI/CD platform</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">configureCICDWebhook</span><span class="token punctuation">(</span>cicdConfig<span class="token punctuation">,</span> webhookUrl<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token comment">// Store configuration</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">storeCICDConfig</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> cicdConfig<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">return</span> webhookUrl</span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">async</span> <span class="token function">handleCICDWebhook</span><span class="token punctuation">(</span>repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> payload<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token keyword">const</span> eventType <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">determineCICDEventType</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">    <span class="token keyword">switch</span> <span class="token punctuation">(</span>eventType<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token string">&#39;push&#39;</span><span class="token operator">:</span></span>
<span class="line">        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handlePushEvent</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> payload<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token string">&#39;pull_request&#39;</span><span class="token operator">:</span></span>
<span class="line">        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handlePullRequestEvent</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> payload<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">      <span class="token keyword">case</span> <span class="token string">&#39;deployment&#39;</span><span class="token operator">:</span></span>
<span class="line">        <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">handleDeploymentEvent</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> payload<span class="token punctuation">)</span></span>
<span class="line">        <span class="token keyword">break</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">private</span> <span class="token keyword">async</span> <span class="token function">handlePushEvent</span><span class="token punctuation">(</span></span>
<span class="line">    repositoryId<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span></span>
<span class="line">    payload<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span></span>
<span class="line">  <span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token keyword">void</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment">// Trigger analysis for changed files</span></span>
<span class="line">    <span class="token keyword">const</span> changedFiles <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">extractChangedFiles</span><span class="token punctuation">(</span>payload<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">await</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">scheduleIncrementalAnalysis</span><span class="token punctuation">(</span>repositoryId<span class="token punctuation">,</span> changedFiles<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"></div></div><p>This comprehensive repository management workflow documentation covers all aspects of managing repositories within Better Context, from initial discovery and registration through ongoing monitoring, maintenance, and cleanup. The system provides robust tools for repository lifecycle management while maintaining high performance and reliability.</p></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="https://github.com/bettercontext/btrx/edit/main/docs/user-guide/repository-management.md" aria-label="Edit this page on GitHub" rel="noopener noreferrer" target="_blank"><!--[--><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]--><!--]-->Edit this page on GitHub<!--[--><!--[--><!--]--><!--]--></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">Last Updated: </span><time class="meta-item-info" datetime="2025-05-29T17:34:05.000Z" data-allow-mismatch>5/29/25, 5:34 PM</time></div><div class="vp-meta-item contributors"><span class="meta-item-label">Contributors: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: edbrdi@pm.me">edbrdi</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-DTsuGB56.js" defer></script>
  </body>
</html>
